{% extends "base.html" %}

{% block title %}Energy Usage at Mudd{% endblock %}

{% block morehead %}
<link rel="stylesheet" href="{{ MEDIA_URL }}css/energy_table.css" type="text/css" media="screen" />
<link rel="stylesheet" href="{{ MEDIA_URL }}css/graph.css" type="text/css" media="screen" />
<link rel="stylesheet" href="{{ MEDIA_URL }}css/detailed_view.css" type="text/css" media="screen" />
<script language="javascript" type="text/javascript">
    var MEDIA_URL = "{{ MEDIA_URL }}";
    var data_url = "{{ data_url }}";
    var table_url = "{{ table_url }}";
    var sensor_group_length = "{{ sensor_groups|length }}";
    var day_url = "{{ day_url }}";
    var week_url = "{{ week_url }}";
    var month_url = "{{ month_url }}";
    var year_url = "{{ year_url }}";
    var south_url = "{{ south_url }}";
    var west_url = "{{ west_url }}";
    var north_url = "{{ north_url }}";
    var east_url = "{{ east_url }}";
    var sontag_url = "{{ sontag_url }}";
    var atwood_url = "{{ atwood_url }}";
    var linde_url = "{{ linde_url }}";
    var case_url = "{{ case_url }}";
    var cycle_url = "{{ cycle_url }}";
    var diagnostic_url = "{{ diagnostic_url }}";
    var mode = "{{ mode }}";
    var timedelta_ms = {{ timedelta_ms }};
    var building = "{{ building }}";
</script>
<script language="javascript" type="text/javascript"
src="{{ MEDIA_URL }}js/page_specific/detail_table.js"></script>
<script language="javascript" type="text/javascript" src="{{ MEDIA_URL }}js/page_specific/tickhelper.js"></script>
<script language="javascript" type="text/javascript"
src="{{ MEDIA_URL }}js/page_specific/detail_graph_high.js"></script>
<script language="javascript" type="text/javascript"
src="{{ MEDIA_URL }}js/page_specific/map_selector.js"></script>
{% endblock %}

{% block content %}

<table id="selector">
  <tr>
    <td id="map">
      <canvas id="campMap" width="570" height="150"></canvas>
    </td>
  </tr>
</table>
<br>
<div id="title" class="center"> 
  Energy Usage at {{ building }} over a {{ res }}
</div>

<div id="debug"></div>
<div id="settings">
  <table id="settings_table" class="center">
    <tr><td id="mode_type">
	<!-- Set what type of graphs we will be showing -->
      </td>
      <td id="mode_settings">
	<!-- Settings are set and generated by Javascript -->
    </td></tr>
  </table>
</div>

<div id="graph"></div>

<div id="statistics_table">
  <table class="tablesorter">
    <thead>
      <tr id="trhead">
	<th>Sensor</th>
	<th>Average This Minute (kW)</th>
	<th>Average Since Monday (kW)</th>
	<th>Average This Month (kW)</th>
	<th>Integrated Power this Interval (kW*hr)</th>
      </tr>
    </thead>
    <tbody id="energystats">
    </tbody>
  </table>
</div>

{% endblock %}
