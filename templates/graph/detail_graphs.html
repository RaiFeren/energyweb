{% extends "base.html" %}

{% block title %}Energy Usage at Mudd{% endblock %}

{% block morehead %}
<link rel="stylesheet" href="{{ MEDIA_URL }}css/energy_table.css" type="text/css" media="screen" />
<link rel="stylesheet" href="{{ MEDIA_URL }}css/graph.css" type="text/css" media="screen" />
<link rel="stylesheet" href="{{ MEDIA_URL }}css/detailed_view.css" type="text/css" media="screen" />
<script language="javascript" type="text/javascript">
    var MEDIA_URL = "{{ MEDIA_URL }}";
    var data_url = "{{ data_url }}";
    var sensor_group_length = "{{ sensor_groups|length }}";
    var day_url = "{{ day_url }}";
    var week_url = "{{ week_url }}";
    var month_url = "{{ month_url }}";
    var year_url = "{{ year_url }}";
    var south_url = "{{ south_url }}";
    var west_url = "{{ west_url }}";
    var north_url = "{{ north_url }}";
    var east_url = "{{ east_url }}";
    var sontag_url = "{{ sontag_url }}";
    var atwood_url = "{{ atwood_url }}";
    var linde_url = "{{ linde_url }}";
    var case_url = "{{ case_url }}";
</script>
<script language="javascript" type="text/javascript"
src="{{ MEDIA_URL }}js/page_specific/detail_graphs.js"></script>
<script language="javascript" type="text/javascript"
src="{{ MEDIA_URL }}js/page_specific/map_selector.js"></script>
<script language="javascript" type="text/javascript" src="{{ MEDIA_URL }}js/flot/jquery.flot.dashes.js"></script>
<script language="javascript" type="text/javascript" src="{{ MEDIA_URL }}js/flot/jquery.flot.symbol.js"></script>
{% endblock %}

{% block content %}

<table class="center">
  <tr>
    <td><div id="selector">
	<canvas id="campMap" width="570" height="150"></canvas>
    </div></td>
  </tr>
  <tr> <td> <div id="heading">
	<h2 class="center">{{ graph_title }}</h2>
  </div> </td> </tr>
  <tr>
    <td><div id="graph"></div></td>
    <td><div id="settings">
      <table id="settings_table">
        <tr><td id="mode_type">
	    <!-- Set what type of graphs we will be showing -->
	    <form action="">
	      <select name="mode">
		<option value="cycle" selected="selected">
		  Cycle View</option>
		<option value="diagnostic">
		  Diagnostic View </option>
	      </select>
	    </form>
	</td></tr>
        <tr><td id="mode_settings">
	    <!-- The following settings will be necessary for all modes -->
	    View By:
	    <form action="">
	      <select name="period"
		      OnChange="location.href=period.options[selectedIndex].value">
		<option value="" selected="selected">Select Resolution</option>
		<option value="{{ day_url }}">Day</option>
		<option value="{{ week_url }}">Week</option>
		<option value="{{ month_url }}">Month</option>
		<option value="{{ year_url }}">Year</option>
	      </select>
	    </form>
	    <!-- Any further settings are set by javascripts -->
	</td></tr>
        <tr><td id="download"> 
	    <!-- <a href="{{data_url}}"> Download Data</a> -->
	</td></tr>
      </table>
    </div></td>
  </tr>
  <tr>
    <td><div id="statistics_table">
	<table class="tablesorter">
	  <thead>
	    <tr id="trhead">
	      <th>Sensor</th>
	      <th>Average This Minute (kW)</th>
	      <th>Average Since Monday (kW)</th>
	      <th>Average This Month (kW)</th>
	      <th>Integrated Power this Interval (kW*hr)</th>
	    </tr>
	  </thead>
	  <tbody id="energystats">
	  </tbody>
	</table>
    </div></td>
  </tr>
  
</table>

{% endblock %}
